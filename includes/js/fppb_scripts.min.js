!function(o){function p(){var p=o("#fppb_default_position"),s=o("#fppb_custom_top_position").closest("tr"),t=o("#fppb_custom_left_position").closest("tr");"custom"==p.val()?(s.css("display",""),t.css("display","")):(s.css("display","none"),t.css("display","none"),s.find("input").val(""),t.find("input").val(""))}function s(){"absolute"!=o("#side-sortables").css("position")&&o("#side-sortables").css("z-index",1e3)}function t(){var p,s,n,e,i,l,c,a,f,b=o("#publish"),r=o("#save-action input#save-post");if(!b.length)return;let u=o(document.createElement("div"));u.attr("id","fppb_btn_container"),u.append(b),u.appendTo("#publishing-action"),r.length?(u.append(r),u.addClass("fppb_has_save_draft")):u.addClass("fppb_publish"),function p(s){let t,n;s.on("mousedown",function(p){!fppb_options.fppb_has_custom_position&&s.hasClass("fppb-"+fppb_options.fppb_top_position)&&s.hasClass("fppb-"+fppb_options.fppb_left_position)&&function o(p){if(!fppb_options.fppb_has_custom_position){var s=fppb_options.fppb_top_position,t=fppb_options.fppb_left_position;if(s&&t){var n=p.css("top"),e=p.css("left");p.removeClass("fppb-"+s),p.removeClass("fppb-"+t),p.css("top",n),p.css("left",e)}}}(s);var e=0,i=0,l=0,c=0;t=p.pageX,n=p.pageY,(element=o(this)).off("click"),(p=p||window.event).preventDefault(),l=p.clientX,c=p.clientY,document.onmouseup=function(o){let p=Math.abs(o.pageX-t),s=Math.abs(o.pageY-n);p<10&&s<10&&element.off("click"),document.onmousemove=null},document.onmousemove=function(o){element.on("click",function(o){o.preventDefault()}),(o=o||window.event).preventDefault(),e=l-o.clientX,i=c-o.clientY,l=o.clientX,c=o.clientY,element.css("top",element.position().top-i+"px"),element.css("left",element.position().left-e+"px")}})}(u),p=u,s=fppb_options.fppb_top_position,n=fppb_options.fppb_left_position,s&&n&&(fppb_options.fppb_has_custom_position?p.css({top:s,left:n}):(p.addClass("fppb-"+s),p.addClass("fppb-"+n))),e=b,i=r,l=fppb_options.fppb_color,c=fppb_options.fppb_background_color,a=fppb_options.fppb_border_color,f=fppb_options.fppb_shadow_color,l&&c&&(e.css({color:l,background:c}),i.length&&i.css({color:c,background:l})),a&&(e.css("border-color",a),i.length&&i.css("border-color",a)),f&&(e.css("box-shadow","1px 1px 10px "+f),i.length&&i.css("box-shadow","1px 1px 10px "+f)),o(window).off("scroll",t)}o(window).on("load",function n(){if(o(".wp-admin").length){if(o(".woocommerce_page_wc-settings").length||o(".settings_page_fppb").length)o("#fppb_default_position")&&(p(),o("#fppb_default_position").on("change",p));else{if(!o("#publish").length||!o(".post-type-product").length&&(o(".block-editor-page").length||!o(".post-type-page").length&&!o(".post-type-post").length))return;o(window).on("scroll",s),o(window).on("scroll",t)}}})}(jQuery);